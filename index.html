<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untuk El - The Golden Chapter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Mr+Dafoe&family=Dancing+Script:wght@600;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        navy: { 800: '#0a192f', 900: '#020c1b', 950: '#01060f' },
                        gold: { 300: '#fcd34d', 400: '#fbbf24', 500: '#f59e0b', 600: '#d97706' },
                        purple: { 900: '#4c1d95', 800: '#5b21b6' }
                    },
                    fontFamily: {
                        serif: ['Playfair Display', 'serif'],
                        script: ['Dancing Script', 'cursive'],
                        signature: ['Great Vibes', 'cursive'],
                        sans: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'spin-slow': 'spin 8s linear infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-glow': 'pulseGlow 3s infinite',
                    },
                    keyframes: {
                        pulseGlow: {
                            '0%, 100%': { boxShadow: '0 0 15px rgba(251, 191, 36, 0.2)', transform: 'scale(1)' },
                            '50%': { boxShadow: '0 0 35px rgba(251, 191, 36, 0.5)', transform: 'scale(1.05)' },
                        },
                        equalizer: {
                            '0%': { height: '4px', opacity: 0.3 },
                            '50%': { height: '12px', opacity: 0.6 },
                            '100%': { height: '4px', opacity: 0.3 }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* --- CORE --- */
        body {
            font-family: 'Inter', sans-serif;
            background: #020c1b;
            color: white;
            min-height: 200vh;
            scroll-behavior: smooth;
        }

        /* --- HERO SPECIFIC BACKGROUND (Black to Navy Gradient) --- */
        #hero-section {
            background: radial-gradient(circle at center, #000000 0%, #050b14 50%, #020c1b 100%);
        }

        /* --- VISUALIZER BARS (Ultra Minimal) --- */
        .bar {
            position: absolute;
            bottom: 50%; left: 50%;
            width: 2px;
            background: #fbbf24;
            transform-origin: bottom center;
            border-radius: 2px;
            opacity: 0.3;
            transition: height 0.2s ease;
        }
        .visualizer-container.playing .bar { animation: equalizer 1.2s ease-in-out infinite; }

        /* --- DARK BACKDROP FOR VINYL (Extra Depth) --- */
        .vinyl-dark-spot {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 700px; height: 700px;
            background: radial-gradient(circle, #000000 0%, rgba(0,0,0,0.8) 40%, transparent 70%);
            z-index: 5;
            pointer-events: none;
        }

        /* --- AMBIENT LIGHT (Subtle) --- */
        .ambient-light { position: fixed; border-radius: 50%; filter: blur(100px); z-index: 0; opacity: 0.15; pointer-events: none; }
        .ambient-purple { background: radial-gradient(circle, #5b21b6 0%, transparent 70%); width: 500px; height: 500px; }
        .ambient-gold { background: radial-gradient(circle, #b45309 0%, transparent 70%); width: 400px; height: 400px; }

        /* --- MINIMALIST GLASS --- */
        .glass-minimal {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
        }

        /* --- GLASS PANEL (Cards/Envelope) --- */
        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            border-right: 1px solid rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
        }

        /* --- PRELOADER --- */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000000;
            z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 1s ease-out, visibility 1s ease-out;
        }
        #preloader.hidden-loader { opacity: 0; visibility: hidden; pointer-events: none; }
        .loader-ring {
            width: 80px; height: 80px; border: 2px solid rgba(251, 191, 36, 0.1);
            border-top: 2px solid #fbbf24; border-radius: 50%;
            animation: spin 1s linear infinite; margin-bottom: 20px;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.1);
        }
        .loader-text {
            font-family: 'Playfair Display', serif; color: #fbbf24;
            letter-spacing: 0.3em; font-size: 0.8rem; text-transform: uppercase;
            animation: pulse 2s infinite;
        }

        /* --- MAGAZINE STYLES --- */
        .drop-cap::first-letter {
            float: left; font-family: 'Playfair Display', serif;
            font-size: 4rem; line-height: 3.5rem; font-weight: 700;
            margin-right: 0.75rem; color: #fbbf24;
        }
        .magazine-columns { column-count: 1; column-gap: 3rem; }
        @media (min-width: 768px) { .magazine-columns { column-count: 2; } }
        .pull-quote {
            border-top: 1px solid #fbbf24; border-bottom: 1px solid #fbbf24;
            padding: 1.5rem 0; margin: 2rem 0; font-family: 'Playfair Display', serif;
            font-size: 1.25rem; font-style: italic; text-align: center; color: #fcd34d;
            background: rgba(10, 25, 47, 0.5);
        }

        /* --- PARTICLES --- */
        .particle {
            position: fixed; background: radial-gradient(circle, #fbbf24 0%, transparent 70%);
            border-radius: 50%; pointer-events: none; opacity: 0; z-index: 1;
            animation: twinkle 5s infinite ease-in-out;
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0; transform: scale(0.2) translateY(0); }
            50% { opacity: 0.6; transform: scale(1) translateY(-30px); }
        }
        .footer-particle {
            position: absolute; bottom: -10px; 
            background: radial-gradient(circle, #fbbf24 0%, transparent 80%);
            border-radius: 50%; pointer-events: none; opacity: 0; 
            animation: riseAndFade 6s infinite linear;
        }
        @keyframes riseAndFade {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            20% { opacity: 0.7; }
            100% { transform: translateY(-200px) scale(1.5); opacity: 0; }
        }

        /* --- HERO BACKGROUND (Film Strip) --- */
        .bg-film-wall {
            position: absolute; top: 0; left: 0; width: 100%; height: 130vh;
            overflow: hidden; z-index: 0; 
            opacity: 0.15;
            mask-image: linear-gradient(to bottom, black 0%, black 60%, transparent 100%), linear-gradient(to right, transparent 0%, black 30%, black 70%, transparent 100%); 
            mask-composite: intersect; -webkit-mask-composite: source-in; 
        }
        .film-row-bg { display: flex; width: max-content; margin-bottom: 2rem; transform: rotate(-5deg) scale(1.1); }
        .film-frame-bg {
            width: 180px; height: 120px; background: #000; margin: 0 10px;
            border-top: 3px dashed rgba(255,255,255,0.2); border-bottom: 3px dashed rgba(255,255,255,0.2); 
            flex-shrink: 0; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        /* --- JOURNEY CARDS --- */
        .journey-track-container { width: 100%; overflow: hidden; margin: 2rem 0; mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent); }
        .journey-track { display: flex; gap: 1.5rem; width: max-content; padding: 0 2rem; }
        .glass-card {
            width: 280px; height: 380px; flex-shrink: 0;
            background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 0.5rem; padding: 0.5rem;
            transition: all 0.4s ease; position: relative; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        .glass-card:hover { transform: translateY(-10px) scale(1.02); border-color: rgba(251, 191, 36, 0.5); background: rgba(255, 255, 255, 0.08); box-shadow: 0 15px 50px rgba(0,0,0,0.6); z-index: 10; }
        .glass-img { width: 100%; height: 100%; border-radius: 0.25rem; object-fit: cover; filter: sepia(20%) grayscale(10%); transition: filter 0.4s; }
        .glass-card:hover .glass-img { filter: none; }
        .scroll-left { animation: scrollLeft 50s linear infinite; }
        .scroll-right { animation: scrollRight 55s linear infinite; }
        @keyframes scrollLeft { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        @keyframes scrollRight { 0% { transform: translateX(-50%); } 100% { transform: translateX(0); } }

        /* --- VINYL & HERO --- */
        .vinyl-wrapper { position: relative; width: 320px; height: 320px; z-index: 20; display:flex; align-items:center; justify-content:center; }
        .visualizer-container { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 320px; height: 320px; z-index: 10; border-radius: 50%; pointer-events: none; }
        
        /* Glass Backing for Vinyl */
        .vinyl-glass-back {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 310px; height: 310px; border-radius: 50%; z-index: 15;
            background: rgba(255,255,255,0.03); backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.08);
        }

        .vinyl-disk { width: 280px; height: 280px; border-radius: 50%; z-index: 20; background: radial-gradient(circle at center, #111 0%, #000 40%, #111 42%, #000 100%); box-shadow: 0 25px 60px rgba(0,0,0,0.9), 0 10px 20px rgba(0,0,0,0.6); position: relative; cursor: pointer; display: flex; align-items: center; justify-content: center; animation: spin 6s linear infinite; animation-play-state: paused; }
        .vinyl-disk.playing { animation-play-state: running; }
        .vinyl-disk::before { content: ''; position: absolute; inset: 0; border-radius: 50%; background: repeating-radial-gradient(#000 0, #000 4px, #111 5px, #111 6px); opacity: 0.6; }
        .vinyl-disk::after { content: ''; position: absolute; inset: 0; border-radius: 50%; background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, transparent 40%, transparent 60%, rgba(251, 191, 36, 0.1) 100%); pointer-events: none; }
        .vinyl-label { width: 40%; height: 40%; border-radius: 50%; z-index: 5; background-size: cover; background-position: center; border: 4px solid #1a1a1a; outline: 1px solid #fbbf24; display: flex; align-items: center; justify-content: center; }
        .vinyl-hole { width: 12px; height: 12px; background: #000; border-radius: 50%; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* --- HERO CONTROLS (MORPH TARGET) --- */
        #hero-controls { transition: all 0.8s cubic-bezier(0.25, 0.8, 0.25, 1); opacity: 1; transform: translateY(0) scale(1); }
        #hero-controls.morphed { opacity: 0; transform: translateY(50px) scale(0.9); pointer-events: none; }

        /* --- ENVELOPE --- */
        .envelope { background: rgba(2, 12, 27, 0.6); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(251, 191, 36, 0.2); border-radius: 4px; position: relative; overflow: hidden; transition: all 1.2s cubic-bezier(0.25, 1, 0.5, 1); max-height: 250px; cursor: pointer; box-shadow: 0 20px 50px rgba(0,0,0,0.6); margin-bottom: 8rem; }
        .envelope.open { max-height: 15000px; cursor: default; background: rgba(2, 12, 27, 0.9); }
        .wax-seal-container { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 50; transition: all 0.5s ease; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 200px; }
        .wax-seal { width: 90px; height: 90px; background: radial-gradient(circle at 30% 30%, #b45309, #78350f); border-radius: 50%; box-shadow: 0 4px 15px rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; border: 4px double rgba(251, 191, 36, 0.4); margin-bottom: 1.5rem; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .wax-seal:hover { transform: scale(1.15); box-shadow: 0 0 20px rgba(251, 191, 36, 0.6), 0 0 40px rgba(251, 191, 36, 0.4), inset 0 0 15px rgba(251, 191, 36, 0.5); border-color: #fbbf24; background: radial-gradient(circle at 30% 30%, #fbbf24, #d97706); }
        .envelope.open .wax-seal-container { transform: translate(-50%, -50%) scale(2); opacity: 0; pointer-events: none; }
        .letter-content { opacity: 0; transform: translateY(30px); transition: all 1s ease 0.6s; padding: 2rem 1rem; }
        .envelope.open .letter-content { opacity: 1; transform: translateY(0); }
        @media (min-width: 768px) { .letter-content { padding: 4rem; } }

        /* --- BLUEPRINT GRID --- */
        .blueprint-grid { background-image: radial-gradient(rgba(255,255,255,0.15) 1px, transparent 1px); background-size: 20px 20px; background-color: #172554; }

        /* --- FOOTER GLOW --- */
        .footer-seal { background: linear-gradient(to bottom, #020c1b 0%, #0f172a 100%); border-top: 1px solid rgba(251, 191, 36, 0.2); padding: 6rem 2rem; text-align: center; margin-top: 6rem; position: relative; overflow: hidden; }
        .footer-seal::before { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to top, rgba(251, 191, 36, 0.6) 0%, rgba(251, 191, 36, 0.1) 40%, transparent 80%); pointer-events: none; z-index: 0; }
        .footer-seal::after { content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 60%; height: 1px; background: linear-gradient(90deg, transparent, rgba(251, 191, 36, 0.5), transparent); box-shadow: 0 0 15px rgba(251, 191, 36, 0.5); z-index: 1; }
        .footer-content { position: relative; z-index: 2; }
        #footer-particles { position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }

        /* --- STICKY PLAYER --- */
        .sticky-player { position: fixed; bottom: 0; left: 0; right: 0; transform: translateY(150%); transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1); z-index: 100; background: rgba(10, 25, 47, 0.4); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px); border-top: 1px solid rgba(255, 255, 255, 0.15); box-shadow: 0 -10px 40px rgba(0,0,0,0.5); }
        .sticky-player.visible { transform: translateY(0); }
        .btn-circle { aspect-ratio: 1/1; display: flex; align-items: center; justify-content: center; border-radius: 50%; }
        input[type=range] { -webkit-appearance: none; width: 100%; height: 3px; background: rgba(255,255,255,0.1); cursor: pointer; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 12px; width: 12px; border-radius: 50%; background: #fbbf24; cursor: pointer; transition: transform 0.1s; }
        input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.2); }
    </style>
</head>
<body class="antialiased selection:bg-gold-500 selection:text-black overflow-hidden" id="main-body">

    <!-- PRELOADER -->
    <div id="preloader">
        <div class="loader-ring"></div>
        <div class="loader-text">Loading Memories</div>
    </div>

    <!-- AMBIENT LIGHTS -->
    <div class="ambient-light ambient-purple" style="top: 20%; left: 10%;"></div>
    <div class="ambient-light ambient-gold" style="bottom: 30%; right: 10%;"></div>
    <div class="ambient-light ambient-purple" style="top: 70%; left: 40%; width: 300px; height: 300px;"></div>

    <audio id="audioPlayer"></audio>
    <div id="particles"></div>

    <div class="relative w-full max-w-5xl mx-auto px-4 overflow-hidden md:overflow-visible">

        <!-- === HERO === -->
        <div id="hero-section" class="min-h-screen flex flex-col items-center justify-center relative">
            
            <div class="bg-film-wall" id="film-wall-container"></div>

            <!-- TITLE (Negative Margin to pull visual center up) -->
            <div class="text-center mb-10 z-20 animate-[float_6s_ease-in-out_infinite] -mt-20"> 
                <h1 class="font-serif text-5xl md:text-8xl mb-8 italic text-gold-300 drop-shadow-md">Hanya Sebuah Ucapan</h1>
                <!-- Shortened Tagline with Border -->
                <p class="text-xs md:text-sm tracking-[0.5em] font-sans font-light border-y border-white/20 py-3 px-6 text-white/80">UNTUK EL</p>
            </div>

            <!-- VINYL WRAPPER -->
            <div class="relative z-20 mb-8">
                <!-- DARK SPOT (Creates deep black background behind vinyl) -->
                <div class="vinyl-dark-spot"></div>

                <!-- Circular Visualizer (Minimal) -->
                <div id="circular-visualizer" class="visualizer-container"></div>
                
                <!-- Glass Backing -->
                <div class="vinyl-glass-back"></div>

                <div class="vinyl-wrapper group" id="vinyl-wrapper">
                    <div id="main-vinyl" class="vinyl-disk" onclick="togglePlay()">
                        <div class="vinyl-label" id="vinyl-label-visual" style="background-image: url('Music/Hindia - Kita ke Sana_transfer_2025-12-04_221631.jpg');">
                            <div class="vinyl-hole"></div>
                        </div>
                    </div>
                    <div id="play-overlay" class="absolute inset-0 flex items-center justify-center z-30 pointer-events-none transition-opacity duration-300">
                        <div class="w-20 h-20 bg-white/5 backdrop-blur-xl rounded-full border border-gold-400/50 flex items-center justify-center shadow-[0_0_30px_rgba(251,191,36,0.3)] group-hover:scale-110 transition-transform duration-300">
                            <i id="hero-icon" class="fas fa-play text-3xl text-gold-400 ml-1"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- HERO MUSIC CONTROLS (Balanced: Prev - Title - Next) -->
            <div id="hero-controls" class="z-30 w-full max-w-sm glass-minimal rounded-full px-6 py-3 flex items-center justify-between gap-4 relative transition-all duration-500">
                <!-- Prev Button -->
                <button onclick="prevSong()" class="text-gray-400 hover:text-white transition transform hover:scale-110 p-2">
                    <i class="fas fa-step-backward text-sm"></i>
                </button>

                <!-- Song Info -->
                <div class="text-center flex-1">
                    <h3 id="hero-song-title" class="text-base font-serif text-white font-bold tracking-wide truncate">Loading...</h3>
                    <p id="hero-song-artist" class="text-[10px] text-gold-400 uppercase tracking-widest mt-0.5 truncate">Please Wait</p>
                </div>

                <!-- Next Button -->
                <button onclick="nextSong()" class="text-gray-400 hover:text-white transition transform hover:scale-110 p-2">
                    <i class="fas fa-step-forward text-sm"></i>
                </button>
            </div>

            <!-- START INSTRUCTION -->
            <div class="absolute bottom-12 flex flex-col items-center animate-bounce z-20 opacity-80">
                <span id="start-text" class="text-[10px] uppercase tracking-[0.3em] mb-2 text-gold-300 font-bold drop-shadow-md">Play the song to start</span>
                <i class="fas fa-chevron-down text-xl text-gold-300 mt-2"></i>
            </div>
        </div>

        <!-- === NARRATIVE JOURNEY === -->
        <div id="journey-section" class="py-24 relative z-10">
            <div class="text-center mb-16 px-4">
                <span class="font-serif italic text-gold-400 text-xl block mb-2">Retrospective</span>
                <h3 class="font-sans font-bold text-3xl md:text-5xl text-white mt-2 uppercase tracking-widest mb-6">The Journey</h3>
                <p class="max-w-2xl mx-auto text-gray-400 font-light leading-relaxed">
                    Setiap frame menyimpan cerita. Ini adalah beberapa momen yang berhasil diabadikan dan masih aku simpan. Maaf aku udah ga punya banyak foto kita el, jadi ini beberapa yang masih aku punya.
                </p>
            </div>
            <div class="journey-track-container"><div class="journey-track scroll-left" id="journey-row-1"></div></div>
            <div class="journey-track-container"><div class="journey-track scroll-right" id="journey-row-2"></div></div>
        </div>

        <!-- === BRIDGE === -->
        <div class="py-12 text-center relative z-10 px-6">
            <div class="glass-panel inline-flex items-center justify-center w-20 h-20 rounded-full mb-6">
                 <i class="fas fa-quote-left text-gold-500/90 text-3xl"></i>
            </div>
            <p class="text-2xl md:text-3xl font-serif italic text-white/90 leading-relaxed max-w-3xl mx-auto drop-shadow-lg">
                "And now, as one chapter closes, I wanted to leave you with something timeless."
            </p>
            <div class="h-16 w-px bg-gradient-to-b from-transparent via-gold-500/50 to-transparent mx-auto mt-8"></div>
        </div>

        <!-- === ENVELOPE === -->
        <div id="envelope" class="envelope z-20" onclick="openLetter()">
            <div class="wax-seal-container">
                <div class="wax-seal cursor-pointer group">
                    <span class="font-serif text-3xl text-gold-300 font-bold italic group-hover:text-white transition">El</span>
                </div>
                <p class="text-[10px] tracking-[0.3em] text-gold-400 font-bold animate-pulse text-center w-full mt-2">
                    BREAK SEAL TO OPEN
                </p>
            </div>

            <div class="letter-content">
                <!-- SURAT UTAMA -->
                <div class="mb-24">
                    <div class="border-b-2 border-gold-500 mb-10 pb-6 text-center">
                        <p class="text-xs font-bold tracking-[0.3em] text-gold-400 uppercase mb-2">The Main Letter</p>
                        <h2 class="font-serif text-4xl md:text-6xl text-white italic">Kepada: Rafael David Santoso "El"</h2>
                        <p class="text-gray-400 mt-4 font-serif italic">Ditulis oleh Egi Erlangga</p>
                    </div>
                    <div class="magazine-columns text-lg leading-relaxed text-gray-300 font-serif font-light text-justify">
                        <p class="mb-6 drop-cap">
                            Well, jujur, pas nulis ini aku sambil flashback jauh ke belakang. Ga kerasa ya waktu berjalan secepat ini? Kalau dihitung-hitung, udah 4 tahun kita saling kenal. Tapi rasanya, 1,5 tahun selama kita jadi asga jadi momen paling intens dan berharga, di mana kita berproses bareng.
                        </p>
                        <p class="mb-6">
                            By the way thank you so much, El. Makasih banyak udah selalu terbuka sama aku. Makasih udah ngasih ruang dan kesempatan seluas-luasnya buat aku berkembang. Aku belajar banyak banget dari kamu, bukan cuma soal hal-hal teknis atau profesional, tapi aku juga belajar banyak ilmu tentang leadership, cara berpikir yang strategis, dan gimana caranya tetap tenang menghadapi masalah terutama di dalam tim.
                        </p>
                        <div class="pull-quote">"Kamu punya impact gede banget buat aku. You changed my perspective."</div>
                        <p class="mb-6">
                            Kehadiran kamu kasih warna baru, standar baru, dan perspektif baru dalam hidupku yang bikin aku jadi versi diri aku yang lebih baik hari ini. Aku ga tau bakal jadi gimana prosesku di sini kalau ga ada guidance dan temen diskusi kayak kamu. Btw don't get me wrong, I tried my best buat sampaikan pesan ini biar ga aneh wkwk'
                        </p>
                        <p class="mb-6">
                            Satu hal yang paling aku kagumi darimu: <strong class="text-white">Kamu punya segalanya.</strong> Kamu pinter, kamu keren, berprestasi, visual juga dapet. Tapi, yang bikin aku respek banget adalah kamu tetep humble. Bisa punya segalanya tapi tetep napak bumi dan ga sombong itu kualitas yang langka banget hari ini, El. Keep that spirit. Aku bangga banget bisa bilang ke orang-orang kalau aku punya teman sekeren kamu.
                        </p>
                        <p class="mb-6">
                            Di dalam kotak ini, ada beberapa kenang-kenangan yang udah aku siapin. Isinya mungkin ga seberapa, bukan barang mewah, tapi aku pilih satu per satu dengan hati-hati dan riset, haha. Anggap aja ini bentuk salam perpisahan sementara dari aku versi lite nya. Doain besok-besok kalau rezeki aku makin lancar, aku janji bakal upgrade hadiahnya ke level yang lebih bagus lagi.
                        </p>
                        <p class="mb-12">
                            See you on top, El! Sukses buat langkah kamu selanjutnya.<br><br>
                            <span class="font-sans text-sm tracking-widest uppercase text-gold-400">Your Friend,</span><br>
                            <span class="font-signature text-4xl mt-4 block text-white tracking-wide rotate-[-2deg] opacity-90" style="text-shadow: 0 0 10px rgba(255,255,255,0.3);">Egi erlangga</span>
                        </p>
                    </div>
                </div>

                <!-- GIFT NOTES -->
                <div class="relative py-10">
                    <div class="absolute inset-0 flex items-center" aria-hidden="true">
                        <div class="w-full border-t border-gold-500/30"></div>
                    </div>
                    <div class="relative flex justify-center">
                        <span class="bg-navy-900 px-6 font-serif text-2xl text-gold-400 italic glass-panel rounded-lg">Curated Gift Collection</span>
                    </div>
                </div>

                <!-- ITEM 1: TANJAK -->
                <div class="gift-section grid grid-cols-1 lg:grid-cols-12 gap-8 mb-20 items-start">
                    <div class="lg:col-span-5 order-2 lg:order-1">
                        <span class="text-gold-500 font-bold tracking-widest text-xs uppercase mb-2 block">1. THE HERITAGE</span>
                        <h3 class="font-serif text-4xl text-white mb-6">Tanjak & Songket Melayu <br><span class="text-2xl text-gray-400 italic">"Navy Gold Edition"</span></h3>
                        <div class="text-gray-300 space-y-4 font-light leading-relaxed border-l-2 border-gold-500/30 pl-6 glass-panel rounded-r-lg p-4">
                            <p>El, ini adalah salah satu item spesial yang aku pilihkan buat kamu. I know, ini bukan tanjak atau songket berkualitas paling baik di luar sana. Tapi aku rasa untuk permulaan ini udah cukup bagus wkwk. Pemilihan warnanya penuh pertimbangan, karena aku ingin yang pas banget buat karakter kamu tapi juga ga menyalahi tradisi dan adatnya hehe.</p>
                            <p>Mungkin kamu mikir, "Kenapa ga warna Merah? Padahal Personality Code aku kan Merah?". Gini ceritanya. Di budaya Melayu, struktur warna itu sakral banget. Merah identik dengan Hulubalang, Hitam untuk Datuk, Kuning untuk Raja.</p>
                            <p>Makanya, aku pilih jalan tengah yang paling aman: <strong>Warna Navy (Biru Gelap) dengan Benang Emas.</strong></p>
                            <div class="mt-4 space-y-2">
                                <p><strong class="text-gold-400">Simbol Modernisasi:</strong> Navy adalah simbol adaptasi budaya di era modern. Ini menyiratkan pesan bahwa kamu adalah pemimpin yang menghormati akar budaya, tapi tetap relevan, adaptif, dan maju. Soalnya warna ini belum ada di songket yang masih sangat tradisional.</p>
                                <p><strong class="text-gold-400">Orang Patut-Patut:</strong> Nuansa gelap yang elegan melambangkan kaum cendekiawan, pemikir, dan orang yang dihormati karena ilmunya. It suits you perfectly.</p>
                            </div>
                            <p class="font-bold text-white mt-2">Aku harap kamu suka ya el!'</p>
                        </div>
                    </div>
                    <div class="lg:col-span-7 order-1 lg:order-2">
                        <div class="blueprint-grid rounded-lg border border-blue-400/30 p-6 h-96 relative overflow-hidden group shadow-2xl flex flex-col justify-between" style="background: radial-gradient(#172554 20%, #0a192f 100%);">
                             <img id="tanjak-main-img" src="Barang/1_transfer_2025-12-04_221606.png" class="absolute inset-0 w-full h-full object-cover opacity-90 transition duration-500">
                            <div class="absolute top-4 left-4 z-10 pointer-events-none">
                                <span class="font-mono text-xs text-blue-300 block bg-black/50 px-1 mb-1">ITEM: TANJAK_HEADPIECE</span>
                                <span class="font-mono text-xs text-blue-300 block bg-black/50 px-1">VIEW: INTERACTIVE</span>
                            </div>
                            <div class="absolute bottom-4 right-4 z-20 flex gap-2">
                                <button onclick="changeTanjakImage('Barang/1_transfer_2025-12-04_221606.png')" class="w-16 h-16 border-2 border-gold-500/50 rounded-lg overflow-hidden shadow-lg hover:scale-110 transition cursor-pointer bg-black/50 hover:border-white focus:outline-none focus:border-white"><img src="Barang/1_transfer_2025-12-04_221606.png" class="w-full h-full object-cover"></button>
                                <button onclick="changeTanjakImage('Barang/2_transfer_2025-12-04_221606.png')" class="w-16 h-16 border-2 border-gold-500/50 rounded-lg overflow-hidden shadow-lg hover:scale-110 transition cursor-pointer bg-black/50 hover:border-white focus:outline-none focus:border-white"><img src="Barang/2_transfer_2025-12-04_221606.png" class="w-full h-full object-cover"></button>
                                <button onclick="changeTanjakImage('Barang/3_transfer_2025-12-04_221606.png')" class="w-16 h-16 border-2 border-gold-500/50 rounded-lg overflow-hidden shadow-lg hover:scale-110 transition cursor-pointer bg-black/50 hover:border-white focus:outline-none focus:border-white"><img src="Barang/3_transfer_2025-12-04_221606.png" class="w-full h-full object-cover"></button>
                                <button onclick="changeTanjakImage('Barang/4_transfer_2025-12-04_221606.png')" class="w-16 h-16 border-2 border-gold-500/50 rounded-lg overflow-hidden shadow-lg hover:scale-110 transition cursor-pointer bg-black/50 hover:border-white focus:outline-none focus:border-white"><img src="Barang/4_transfer_2025-12-04_221606.png" class="w-full h-full object-cover"></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ITEM 2: SANJAI -->
                <div class="gift-section grid grid-cols-1 lg:grid-cols-2 gap-10 mb-20 items-center">
                    <div class="relative group h-80 overflow-hidden rounded-lg border border-red-500/20 glass-panel">
                        <img src="Barang/5_transfer_2025-12-04_221606.png" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                        <div class="absolute bottom-0 left-0 bg-gradient-to-t from-red-900/90 to-transparent p-6 w-full">
                            <span class="text-white font-serif italic text-xl">The Spicy Sticky Sensation</span>
                        </div>
                    </div>
                    <div>
                        <span class="text-gold-500 font-bold tracking-widest text-xs uppercase mb-2 block">2. THE SNACK</span>
                        <h3 class="font-serif text-3xl text-white mb-4">Kerupuk Sanjai Balado</h3>
                        <p class="text-gray-300 leading-relaxed font-light mb-4">
                            "Authentic Taste of Minang Kabau". Kalau main ke Sumatera Barat, haram hukumnya kalau ga bawa pulang ini. Namanya Kerupuk Sanjai.
                        </p>
                        <p class="text-gray-300 leading-relaxed font-light mb-4">
                            <strong class="text-white">Fun Fact:</strong> Sekilas mungkin mirip opak, tapi ini beda! Aslinya berasal dari daerah Sanjai di Bukittinggi. Bahannya dari singkong pilihan. Menurutku yang Bulat Balado ini adalah varian terbaiknya. Rasanya pedas, manis, dan sticky. Sensasi lengket-lengket manisnya itu yang bikin nagih (hati-hati nempel di gigi ya, haha).
                        </p>
                        <div class="mt-6 p-4 glass-panel rounded-lg">
                            <p class="text-sm text-gray-300 font-sans">
                                <strong class="text-gold-400">Note Kecil:</strong> Sorry banget ga bisa bawain Kerupuk Bengkuang yang dulu sempat aku mention, kerupuknya cuma sampai di tahap pengembangan. Jadi, nikmati Sanjai yang cukup legend ini aja ya!
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ITEM 3: WAJIK -->
                <div class="gift-section grid grid-cols-1 lg:grid-cols-2 gap-10 mb-20 items-center">
                    <div class="order-2 lg:order-1 text-right lg:text-right">
                        <span class="text-gold-500 font-bold tracking-widest text-xs uppercase mb-2 block">3. THE SWEET</span>
                        <h3 class="font-serif text-3xl text-white mb-4">Wajik Tapai Melayu</h3>
                        <p class="text-gray-300 leading-relaxed font-light mb-4">
                            "Riau Classics". Ini jajanan yang cukup eksklusif. Terbuat dari pulut dimasak santan & gula, dicampur tapai fermentasi. Packaging daun upih (well yang aku kasih kamu kayanya udah ga lakai daun wkwk) bikin aromanya otentik.
                        </p>
                        <p class="text-gray-300 leading-relaxed font-light">
                            Rasanya sebenarnya masih mirip dengan wajik yang bisa kamu temui di pulau Jawa, El. Manis legit ketemu asam segar. Cocok banget buat teman ngeteh sore-sore sambil mikirin masa depan.
                        </p>
                    </div>
                    <div class="order-1 lg:order-2 relative group h-80 overflow-hidden rounded-lg border border-green-500/20 glass-panel">
                        <img src="Barang/6_transfer_2025-12-04_221606.png" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                        <div class="absolute bottom-0 right-0 bg-gradient-to-t from-green-900/90 to-transparent p-6 w-full text-right">
                            <span class="text-white font-serif italic text-xl">Fermented Sweetness</span>
                        </div>
                    </div>
                </div>

                <!-- ITEM 4: INDOMIE -->
                <div class="bg-gradient-to-br from-navy-800 to-navy-900 border border-gold-500/20 p-8 rounded-2xl relative overflow-hidden group glass-panel">
                    <div class="relative z-10 grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="h-64 rounded-xl overflow-hidden border border-white/10 relative group">
                            <img src="Barang/7_transfer_2025-12-04_221606.png" class="w-full h-full object-cover transition duration-700 group-hover:scale-105" alt="Indomie">
                            <div class="absolute inset-0 bg-gradient-to-t from-navy-900/80 to-transparent"></div>
                            <div class="absolute bottom-4 left-4">
                                <span class="bg-red-600 text-white text-xs font-bold px-2 py-1 rounded">SUMATERA REGION</span>
                            </div>
                        </div>
                        <div class="md:col-span-1">
                            <span class="text-gold-500 font-bold tracking-widest text-xs uppercase mb-2 block">4. THE LEGEND</span>
                            <h3 class="font-serif text-3xl text-white mb-4">Indomie Goreng Dari Sumatera</h3>
                            <p class="text-lg text-gray-200 font-serif italic mb-4">"The Myth is True!"</p>
                            <p class="text-gray-400 font-light leading-relaxed mb-4">
                                Katanya kamu penasaran kan? Yes, the rumors are true. Indomie goreng di Sumatera itu punya ciri khas yang beda.
                            </p>
                            <p class="text-gray-300 font-light leading-relaxed">
                                <strong>Bedanya Apa?</strong> Indomie versi kami pakai <strong>Bubuk Cabai (Chili Powder)</strong>, BUKAN saus sambal cair. Selain itu, racikan minyak bawangnya lebih gurih, lebih "kering", dan rempahnya lebih nonjok di lidah. But again aku gabisa jamin ya kalau ini lebih enak daripada yang di Jawa. Boleh banget kamu jadiin konten atau kamu masak pas laper malem hehe.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- FINAL FOOTER (GLOW & PARTICLES) -->
                <div class="footer-seal relative">
                    <div id="footer-particles"></div>
                    <div class="relative z-10 footer-content">
                        <i class="fas fa-feather-alt text-4xl text-gold-400 mb-6 animate-[float_4s_ease-in-out_infinite]"></i>
                        <h2 class="font-serif text-3xl md:text-4xl text-white mb-4 italic">"Every ending is just a new beginning."</h2>
                        <p class="text-gray-400 font-light max-w-xl mx-auto leading-relaxed text-sm tracking-wide">
                            Terima kasih untuk setiap cerita yang sudah kita tulis bersama. Kotak dan tanjak ini mungkin akan usang, makanan di dalamnya mungkin akan habis, tapi aku harap kenangannya bisa abadi.
                        </p>
                        <div class="mt-8">
                            <p class="text-gold-400 font-bold tracking-[0.2em] uppercase text-sm">WISH YOU ALL THE BEST</p>
                            <p class="text-xs text-white-600 mt-2">Sealed with gratitude</p>
                            <p class="text-xs text-white-600 mt-2">Egi Erlangga</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- GLASS STICKY PLAYER -->
    <div id="sticky-player" class="sticky-player pb-safe">
        <div class="relative w-full h-1 group cursor-pointer bg-white/5">
            <div id="progress-fill" class="absolute h-full bg-gradient-to-r from-gold-600 to-gold-300 w-0 pointer-events-none shadow-[0_0_15px_#fbbf24]"></div>
            <input type="range" id="progress-slider" min="0" max="100" value="0" class="absolute w-full h-full opacity-0 z-20 cursor-pointer">
        </div>
        <div class="max-w-3xl mx-auto px-6 py-4 flex items-center justify-between gap-4">
            <div class="flex items-center gap-4 flex-1 overflow-hidden">
                <div class="w-12 h-12 rounded-full bg-black border border-white/20 flex items-center justify-center flex-shrink-0 animate-spin-slow shadow-lg">
                    <img id="mini-vinyl-img" src="Music/Hindia - Kita ke Sana_transfer_2025-12-04_221631.jpg" class="w-full h-full rounded-full opacity-80 object-cover">
                </div>
                <div class="flex flex-col min-w-0 justify-center">
                    <h3 id="song-title" class="text-sm font-semibold text-white truncate font-serif">Loading...</h3>
                    <p id="song-artist" class="text-xs text-gold-400 truncate">Please wait</p>
                </div>
            </div>
            <div class="flex items-center gap-6">
                <button onclick="prevSong()" class="text-gray-400 hover:text-white text-lg transition"><i class="fas fa-backward-step"></i></button>
                <button onclick="togglePlay()" class="btn-circle w-14 h-14 bg-white/10 backdrop-blur-md text-gold-300 border border-white/20 hover:bg-white/20 transition hover:scale-105 shadow-[0_0_15px_rgba(255,255,255,0.1)]"><i id="sticky-icon" class="fas fa-play text-xl ml-1"></i></button>
                <button onclick="nextSong()" class="text-gray-400 hover:text-white text-lg transition"><i class="fas fa-forward-step"></i></button>
            </div>
        </div>
    </div>

    <script>
        const playlist = [
            { title: "Kita Ke Sana", artist: "Hindia", src: "Music/Hindia - Kita ke Sana_transfer_2025-12-04_221631.mp3", cover: "Music/Hindia - Kita ke Sana_transfer_2025-12-04_221631.jpg" },
            { title: "Ruang Baru (Piano)", artist: "Barsena Bestandhi", src: "Music/Ruang Baru - Barsena Bestandhi (From My Annoying Brother) Piano_transfer_2025-12-04_221631.mp3", cover: "Music/Ruang Baru - Barsena Bestandhi (From My Annoying Brother) Piano_transfer_2025-12-04_221631.jpg" },
            { title: "Kita Ke Sana (Piano)", artist: "Hindia", src: "Music/Hindia - Kita Ke SanaPiano_transfer_2025-12-04_221631.mp3", cover: "Music/Hindia - Kita Ke Sana Piano_transfer_2025-12-04_221631.jpg" },
            { title: "Ruang Baru", artist: "Barsena Bestandhi", src: "Music/Ruang Baru (From My Annoying Brother) Official Lyric Video_transfer_2025-12-04_221631.mp3", cover: "Music/Ruang Baru (From My Annoying Brother)_transfer_2025-12-04_221631.jpg" }
        ];

        const introImages = [];
        for (let i = 1; i <= 14; i++) {
            introImages.push(`Images Intro/${i}_transfer_2025-12-04_221619.jpg`);
        }
        const journeyData = introImages.map(img => ({ img }));

        const audio = document.getElementById('audioPlayer');
        const vinylWrapper = document.getElementById('vinyl-wrapper');
        const mainVinyl = document.getElementById('main-vinyl');
        const vinylLabel = document.getElementById('vinyl-label-visual');
        const miniVinylImg = document.getElementById('mini-vinyl-img');
        const playOverlay = document.getElementById('play-overlay');
        const heroIcon = document.getElementById('hero-icon');
        const stickyIcon = document.getElementById('sticky-icon');
        
        // Text Elements
        const songTitle = document.getElementById('song-title');
        const songArtist = document.getElementById('song-artist');
        const heroSongTitle = document.getElementById('hero-song-title');
        const heroSongArtist = document.getElementById('hero-song-artist');
        
        // Progress Bars
        const progressFill = document.getElementById('progress-fill');
        const progressSlider = document.getElementById('progress-slider');

        // Other UI
        const envelope = document.getElementById('envelope');
        const startText = document.getElementById('start-text');
        const heroControls = document.getElementById('hero-controls');
        
        // Visualizers
        const circularVisualizer = document.getElementById('circular-visualizer');

        let isPlaying = false;
        let currentSongIndex = 0;
        let hasStarted = false; 

        function init() {
            createParticles();
            createFooterParticles();
            createCircularVisualizer();
            
            const filmWallContainer = document.getElementById('film-wall-container');
            for (let i = 0; i < 6; i++) { 
                const row = document.createElement('div');
                row.className = `film-row-bg ${i % 2 === 0 ? 'scroll-left' : 'scroll-right'}`;
                row.style.opacity = 0.8 - (i * 0.1); 
                row.style.animationDuration = `${50 + (i * 5)}s`; 
                if (i % 2 !== 0) row.style.marginLeft = '-100px';
                filmWallContainer.appendChild(row);
                
                const start = (i * 5) % introImages.length;
                const subset = [...introImages.slice(start), ...introImages.slice(0, start)];
                populateFilmRow(row, subset, 20); 
            }
            
            populateJourneyRow(document.getElementById('journey-row-1'), journeyData);
            populateJourneyRow(document.getElementById('journey-row-2'), [...journeyData].reverse());
            
            loadSong(0);
        }

        // --- VISUALIZER GENERATORS ---
        function createCircularVisualizer() {
            const count = 60; 
            for (let i = 0; i < count; i++) {
                const bar = document.createElement('div');
                bar.classList.add('bar');
                const deg = (360 / count) * i;
                // Adjusted radius slightly smaller as requested
                bar.style.transform = `rotate(${deg}deg) translateY(-130px)`; 
                bar.style.animationDelay = `${Math.random() * 0.5}s`;
                circularVisualizer.appendChild(bar);
            }
        }

        function createParticles() {
            const container = document.getElementById('particles');
            for(let i=0; i<40; i++) {
                const p = document.createElement('div');
                p.classList.add('particle');
                p.style.width = Math.random() * 4 + 1 + 'px';
                p.style.height = p.style.width;
                p.style.left = Math.random() * 100 + 'vw';
                p.style.top = Math.random() * 100 + 'vh';
                p.style.animationDelay = Math.random() * 5 + 's';
                p.style.animationDuration = Math.random() * 3 + 2 + 's';
                container.appendChild(p);
            }
        }

        function createFooterParticles() {
            const container = document.getElementById('footer-particles');
            for(let i=0; i<30; i++) {
                const p = document.createElement('div');
                p.classList.add('footer-particle');
                p.style.width = Math.random() * 3 + 2 + 'px';
                p.style.height = p.style.width;
                p.style.left = Math.random() * 100 + '%';
                p.style.animationDuration = (Math.random() * 3 + 3) + 's'; 
                p.style.animationDelay = (Math.random() * 5) + 's';
                container.appendChild(p);
            }
        }

        function populateFilmRow(container, images, count) {
            let html = '';
            for(let i=0; i<count; i++) {
                const img = images[i % images.length];
                html += `<div class="film-frame-bg"><img src="${img}" style="width:100%; height:100%; object-fit:cover;"></div>`;
            }
            container.innerHTML = html;
        }

        function populateJourneyRow(container, data) {
            const triple = [...data, ...data, ...data];
            let html = '';
            triple.forEach(item => {
                html += `
                <div class="glass-card">
                    <img src="${item.img}" class="glass-img" loading="lazy">
                </div>`;
            });
            container.innerHTML = html;
        }

        function openLetter() {
            if(!envelope.classList.contains('open')) envelope.classList.add('open');
        }

        function changeTanjakImage(src) {
            const mainImg = document.getElementById('tanjak-main-img');
            mainImg.style.opacity = '0';
            setTimeout(() => {
                mainImg.src = src;
                mainImg.style.opacity = '0.9';
            }, 300);
        }

        // --- AUDIO CONTROLLER ---
        function togglePlay() {
            // Unlock scroll logic
            if (!hasStarted) {
                document.body.classList.remove('overflow-hidden');
                document.body.classList.add('overflow-x-hidden');
                startText.innerText = "Scroll to Explore";
                hasStarted = true;
            }

            if (isPlaying) {
                audio.pause();
                isPlaying = false;
                updateUI(false);
            } else {
                audio.play();
                isPlaying = true;
                updateUI(true);
            }
        }

        function updateUI(active) {
            if(active) {
                vinylWrapper.classList.add('active');
                mainVinyl.classList.add('playing');
                playOverlay.style.opacity = '0';
                
                circularVisualizer.classList.add('playing');

                heroIcon.className = "fas fa-pause text-3xl text-gold-400";
                stickyIcon.className = "fas fa-pause text-xl ml-0";
            } else {
                vinylWrapper.classList.remove('active');
                mainVinyl.classList.remove('playing');
                playOverlay.style.opacity = '1';

                circularVisualizer.classList.remove('playing');

                heroIcon.className = "fas fa-play text-3xl text-gold-400 ml-1";
                stickyIcon.className = "fas fa-play text-xl ml-1";
            }
        }

        function loadSong(index) {
            const song = playlist[index];
            audio.src = song.src;
            
            // Update Sticky
            songTitle.innerText = song.title;
            songArtist.innerText = song.artist;
            miniVinylImg.src = song.cover;

            // Update Hero
            heroSongTitle.innerText = song.title;
            heroSongArtist.innerText = song.artist;
            
            vinylLabel.style.backgroundImage = `url('${song.cover}')`;
            
            // Reset Progress
            progressSlider.value = 0;
            progressFill.style.width = '0%';
        }

        function nextSong() {
            currentSongIndex = (currentSongIndex + 1) % playlist.length;
            loadSong(currentSongIndex);
            if(isPlaying) audio.play();
        }

        function prevSong() {
            currentSongIndex = (currentSongIndex - 1 + playlist.length) % playlist.length;
            loadSong(currentSongIndex);
            if(isPlaying) audio.play();
        }

        // --- TIME & PROGRESS ---
        audio.addEventListener('timeupdate', () => {
            if(isNaN(audio.duration)) return;
            const pct = (audio.currentTime / audio.duration) * 100 || 0;
            progressFill.style.width = `${pct}%`;
            progressSlider.value = pct;
        });

        progressSlider.addEventListener('input', (e) => audio.currentTime = (e.target.value / 100) * audio.duration);
        audio.addEventListener('ended', nextSong);

        // --- INTERSECTION OBSERVER FOR MORPHING ---
        const heroSection = document.getElementById('hero-section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const sticky = document.getElementById('sticky-player');
                
                if (!entry.isIntersecting) {
                    // Hero is GONE -> Show Sticky, Hide Hero Controls
                    sticky.classList.add('visible');
                    heroControls.classList.add('morphed');
                } else {
                    // Hero is VISIBLE -> Hide Sticky, Show Hero Controls
                    sticky.classList.remove('visible');
                    heroControls.classList.remove('morphed');
                }
            });
        }, { threshold: 0.1 }); 

        observer.observe(heroSection);

        init();

        /* --- PRELOADER LOGIC --- */
        window.addEventListener('load', function() {
            const preloader = document.getElementById('preloader');
            setTimeout(function() {
                preloader.classList.add('hidden-loader');
                setTimeout(() => { preloader.remove(); }, 1000);
            }, 1500); 
        });
    </script>
</body>
</html>
